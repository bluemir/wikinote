## 기능 목록

- Wiki 조회
	- markdown rendering
	- 이미지
	- Video
- Wiki 수정
	- 미리보기
	- 이미지 업로드
- Wiki 검색
- Plugin
	- Viewer
		- footer
		- 댓글 Plugin(https://giscus.app/)
		- TAG
		- Recently updated
		- git plugin
- 권한 시스템
	- 아무나 읽되, 쓰는 사람은 일부
	- login
	- 다른 ID 로 login
	- 가입
	- 가입시 Role 지정(config)
	- RBAC

## 기타 고려사항

- cookie free
	- Basic Auth(포기)
		- https://wikinote.bluemir.me/devlog/2024/8.md
- Server rendering
	- API call을 줄일수 있다.
	- JS 를 상대적으로 적게 써도 동작을 보장할수 있다.
- Web 표준
- https service
	- 실질적으로 설정 해야할 이유가 떨어짐
	- 대부분은 ingress(nginx) 뒤에 있게 됨
	- https를 설정할 경우 대부분은 Domain 설정등이 필요해서 추가 설정을 해야 하므로 굳이 간단한 실행을 제공해야 할 이유가 떨어진다.

## Feature list

- '/' 로 접근 하면 front-page 로 redirect
- 확장자가 없는 path 로 접근 하면, ".md" suffix 가 붙은 Path 로 redirect
- 최초 실행시
	- Guest 는 wiki를 볼수 있음
- Editor에서 변경 후 Save 시 변경 내용이 저장 된다.

## TODO
- [ ] UI 구조개선
	- CustomElement(not React)
	- muti page application
		- non-client routing
- [x] 파일 업로드
- [x] image viewer
- [x] image uploader
- [ ] file upload with drag and drop
- [x] Edit 에서 tab key 수정
- [x] image viewer max width
- [x] video viewer
- [x] Profile
- [x] Unauthroized page
- [x] Register Page
- [x] Forbidden page...
- [ ] git plugin
- [ ] html templates 의 not found Error handling
- [x] change embed
- [x] TLS cache
- [ ] Accept 에 따라서 API 와 아닌것 구분 하기
- [ ] js map(ECMA script)
- [x] error handling with `c.Error()`
- [ ] 최초 실행시 data dir 이 없으면 생성
- [x] Admin 비밀번호는 표준 입력등으로 노출 되지 않도록
	- Setup 용 Token 등을 사용 하는 방안도 고려 해볼수 있음.
	- 최초 실행후 initialize 마법사가 필요..
- [ ] Admin 용 IAM Page(RBAC)
- [ ] 대부분 config 는 file 대신 db에 저장.
	- UI 에서 수정을 지원
	- yaml로 encoding 을 할수는 있음
- [x] User의 Group이 바뀌면 Logout 후 Login 해야 적용됨
	- user의 Group 정보가 Session(secure cookie)에 들어가기 때문임
	- user의 정보를 직접 넣는 대신 필요할떄 마다 DB 에서 가져다 쓰는 구조로 바뀌어야 할수 있음.
- [ ] 가입 가능 여부를 설정 할수 있으면 좋겠다.
- [ ] i18n
	- 우선은 Page 만 적용
	- Error message 등에는 적용하지 않음.
- [x] nginx 뒤에 있는 server 의 경우에는 initialize link 가 제대로 표시 되지 않음.
	- nginx 에 `proxy_set_header Host            $host;`를 설정 하면 됨
- [x] Access log 를 Info level 로 찍기
- [x] DB 의 Log 를 Debug Level 로 찍기
- [ ] Editor
	- [x] Tab Key가 동작 하도록 만들기
		- indent 조정
	- [x] 저장단축키 적용
	- [ ] Undo
		- 1s 정도의 간격으로 text의 변경사항을 추적하고, 100 개 정도의 변경사항을 기록하면 되지 않을까?
	- [ ] Redo
	- [x] Resize on input
- [ ] 적절한 font
- [ ] h1~ h3 까지 horizontal line 적용하기
- [x] search 기능 고치기
- [x] move 기능
	- 옯겨갈 Path에 file 이 없으면
	- 파일을 해당 path 에 복사하고
	- 현재 위치에는 해당 Path 로 Link를 남김
- [ ] delete 기능
- [ ] files 고치기
- [ ] move 시 하위 Path 도 같이 이동
	- 정책적으로 할것인지 말것인지를 결정 해야 함.